--- 01 CREA O MODIFICA SP insertar Rol

CREATE OR ALTER PROCEDURE insertarRol
	@Nombre VARCHAR(60),    	
	@Descripcion VARCHAR(30)
AS
BEGIN
	INSERT INTO Administración.Rol(Nombre, Descripcion) VALUES(
		@Nombre,
		@Descripcion
	);
END;

--- 02 CREA O MODIFICA SP para modificar Rol 

CREATE OR ALTER PROCEDURE modificarRol
	@ID_Rol INT,
	@Nombre VARCHAR(60) = NULL,    	
	@Descripcion VARCHAR(30) = NULL
AS
BEGIN
	UPDATE Administración.Rol 
	SET
		Nombre = ISNULL(@Nombre, Nombre), 
		Descripcion = ISNULL(@Descripcion, Descripcion)
	WHERE ID_Rol = @ID_Rol
END;

--- 03 CREA O MODIFICA SP para eliminar Rol

CREATE OR ALTER PROCEDURE eliminarRol
	@ID_Rol INT
AS
BEGIN
	DELETE
	FROM Administración.Rol
	WHERE ID_Rol = @ID_Rol
END;

--- 04 CREACION DE PROCEDURE ingresarUsuario

CREATE OR ALTER PROCEDURE ingresarUsuario
    	@DNI int,
    	@Nombre VARCHAR(50),
    	@Apellido VARCHAR(50),
    	@Email VARCHAR(50),
    	@TelefonoContacto char(12),
    	@FechaNacimiento DATE,
    	@Contrasenia VARCHAR(100),
    	@ID_Rol INT
AS
BEGIN
	INSERT INTO Administracion.Usuario(DNI, Nombre, Apellido, Email, TelefonoContacto, FechaNacimiento, Contrasenia, ID_Rol) VALUES(
		@DNI,
    		@Nombre,
    		@Apellido,
    		@Email,
    		@TelefonoContacto,
    		@FechaNacimiento,
    		@Contrasenia,
    		@ID_Rol
	)
END;

--- 05 CREACION DE PROCEDURE modificarUsuario

CREATE OR ALTER PROCEDURE modificarUsuario
	@ID_Usuario,
	@DNI int = NULL,
    	@Nombre VARCHAR(50) = NULL,
    	@Apellido VARCHAR(50) = NULL,
    	@Email VARCHAR(50) = NULL,
    	@TelefonoContacto char(12) = NULL,
    	@FechaNacimiento DATE = NULL,
    	@Contrasenia VARCHAR(100) = NULL,
    	@ID_Rol INT = NULL
AS
BEGIN
	UPDATE Administración.Usuario SET
		DNI int = ISNULL(@DNI, DNI),
    		Nombre = ISNULL(@Nombre, Nombre),
    		Apellido = ISNULL(@Apellido, Apellido),
    		Email = ISNULL(@Email,Email),
    		TelefonoContacto = ISNULL(@TelefonoContacto, TelefonoContacto),
    		FechaNacimiento = ISNULL(@FechaNacimiento, FechaNacimiento),
    		Contrasenia = ISNULL(@Contrasenia, Contrasenia),
    		@ID_Rol = ISNULL(@ID_Rol, ID_Rol)
	WHERE ID_Usuario = @ID_Usuario
END;

--- 06 CREACION DE PROCEDURE eliminarUsuario

CREATE OR ALTER PROCEDURE eliminarUsuario
	@ID_Usuario INT	
BEGIN
	DELETE
	FROM Administración.Usuario
	WHERE ID_Usuario = @ID_Usuario
END;

--- 07 CREACION PROCEDURE ingresarGrupoFamiliar
	
CREATE OR ALTER PROCEDURE ingresarGrupoFamiliar
	@Tamaño INT,
	@Nombre VARCHAR(100),
AS
BEGIN	
	INSERT INTO Personas.GrupoFamiliar(Tamaño, Nombre) VALUES(
        	Tamaño = @Tamaño,
		Nombre = @Nombre
END;

--- 08 CREACION PROCEDURE modificarGrupoFamiliar
	
CREATE OR ALTER PROCEDURE modificarGrupoFamiliar
	@ID_GrupoFamiliar INT,
	@Tamaño INT = NULL,
	@Nombre VARCHAR(100) = NULL
AS
BEGIN
	UPDATE Personas.GrupoFamiliar(Tamaño, Nombre) SET
		Tamaño = ISNULL(@Tamaño,Tamaño),
		Nombre = ISNULL(@Nombre, Nombre)
	WHERE ID_GrupoFamiliar = @ID_GrupoFamiliar
END;

--- 09 CREACION PROCEDURE eliminarGrupoFamiliar
	@ID_GrupoFamiliar INT
AS
BEGIN
	DELETE
	FROM Personas.GrupoFamiliar
	WHERE ID_GrupoFamiliar = @ID_GrupoFamiliar
END;

--- 10 CREACION PROCEDURE ingresarCategoria

CREATE OR ALTER PROCEDURE ingresarCategoria
	@Descripcion VARCHAR(100),
	@Importe DECIMAL(10,2)
AS
BEGIN
	INSERT INTO Personas.Categoria(Descripción, Importe) VALUES(
		@Descripcion,
		@Importe
	)
END;

--- 11 CREACION PROCEDURE modificarCategoria
	
CREATE OR ALTER PROCEDURE modificarCategoria	
	@ID_Categoria INT = NULL,
	@Descripcion VARCHAR(100) = NULL,
	@Importe DECIMAL(10,2) = NULL
AS
BEGIN
	UPDATE Personas.Categoria(Descripción, Importe) SET
		Descripción = ISNULL(@Descripcion, Descripción),
		Importe = ISNULL(@Importe, Importe)
	WHERE ID_Categoria = @ID_Categoria
END;

--- 12 CREACION PROCEDURE eliminarCategoria
	@ID_Categoria INT
AS
BEGIN
	DELETE
	FROM Personas.Categoria
	WHERE ID_Categoria = @ID_Categoria
END;
