--- 01 CREA O MODIFICA SP insertar Rol

CREATE OR ALTER PROCEDURE insertarRol
	@Nombre VARCHAR(60),    	
	@Descripcion VARCHAR(30)
AS
BEGIN
	INSERT INTO Administración.Rol(Nombre, Descripcion) VALUES(
		@Nombre,
		@Descripcion
	);
END;

--- 02 CREA O MODIFICA SP para modificar Rol 

CREATE OR ALTER PROCEDURE modificarRol
	@ID_Rol INT,
	@Nombre VARCHAR(60) = NULL,    	
	@Descripcion VARCHAR(30) = NULL
AS
BEGIN
	UPDATE Administración.Rol 
	SET
		Nombre = ISNULL(@Nombre, Nombre), 
		Descripcion = ISNULL(@Descripcion, Descripcion)
	WHERE ID_Rol = @ID_Rol
END;

--- 03 CREA O MODIFICA SP para eliminar Rol

CREATE OR ALTER PROCEDURE eliminarRol
	@ID_Rol INT
AS
BEGIN
	DELETE
	FROM Administración.Rol
	WHERE ID_Rol = @ID_Rol
END;

--- 04 CREACION DE PROCEDURE ingresarUsuario

CREATE OR ALTER PROCEDURE ingresarUsuario
    	@DNI int,
    	@Nombre VARCHAR(50),
    	@Apellido VARCHAR(50),
    	@Email VARCHAR(50),
    	@TelefonoContacto char(12),
    	@FechaNacimiento DATE,
    	@Contrasenia VARCHAR(100),
    	@ID_Rol INT
AS
BEGIN
	INSERT INTO Administracion.Usuario(DNI, Nombre, Apellido, Email, TelefonoContacto, FechaNacimiento, Contrasenia, ID_Rol) VALUES(
		@DNI,
    		@Nombre,
    		@Apellido,
    		@Email,
    		@TelefonoContacto,
    		@FechaNacimiento,
    		@Contrasenia,
    		@ID_Rol
	)
END;

--- 05 CREACION DE PROCEDURE modificarUsuario

CREATE OR ALTER modificarUsuario
	@ID_Usuario,
	@DNI int = NULL,
    	@Nombre VARCHAR(50) = NULL,
    	@Apellido VARCHAR(50) = NULL,
    	@Email VARCHAR(50) = NULL,
    	@TelefonoContacto char(12) = NULL,
    	@FechaNacimiento DATE = NULL,
    	@Contrasenia VARCHAR(100) = NULL,
    	@ID_Rol INT = NULL
AS
BEGIN
	UPDATE Administración.Usuario SET
		DNI int = ISNULL(@DNI, DNI),
    		Nombre = ISNULL(@Nombre, Nombre),
    		Apellido = ISNULL(@Apellido, Apellido),
    		Email = ISNULL(@Email,Email),
    		TelefonoContacto = ISNULL(@TelefonoContacto, TelefonoContacto),
    		FechaNacimiento = ISNULL(@FechaNacimiento, FechaNacimiento),
    		Contrasenia = ISNULL(@Contrasenia, Contrasenia),
    		@ID_Rol = ISNULL(@ID_Rol, ID_Rol)
	WHERE ID_Usuario = @ID_Usuario
END;

--- 06 CREACION DE PROCEDURE eliminarUsuario

CREATE OR ALTER eliminarUsuario
	@ID_Usuario INT	
BEGIN
	DELETE
	FROM Administración.Usuario
	WHERE ID_Usuario = @ID_Usuario
END;
